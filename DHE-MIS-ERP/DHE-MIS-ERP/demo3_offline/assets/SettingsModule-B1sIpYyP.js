import{j as e,i as s,Q as a,r as t,P as i,w as n,U as r,W as l}from"./ui-vendor-8V_oKEeO.js";import{r as c,u as d,e as m,j as o,k as h,N as x}from"./react-vendor-CNUWQFbP.js";import{T as p,a as u,b as j,c as f}from"./academics-yUGFON3d.js";import{c as g,s as N,u as y,f as v}from"./form-vendor-B1G7pw6y.js";import{ah as b,n as w,o as F,p as k,q as S,b as C,r as P,t as Y,z as D,I as M,M as U,P as A,a5 as E,O as R,B as I,L as T,az as O,av as V,am as _,g as J,h as q,i as L,j as z,k as B,bl as H,ar as G,a8 as K,c as Q,ac as W,a0 as X,a9 as $,bm as Z,H as ee}from"./institute-BF3Og4ow.js";import{u as se,b as ae}from"./index-BTNXxIF4.js";import"./verification-Bi_X-LS6.js";import"./chart-vendor-DjRgKakx.js";import"./query-vendor-B0hUVdFE.js";import"./i18n-vendor-DhCRt-fY.js";const te={id:"1",username:"admin",email:"admin@dhe.gov.in",mobile:"+91 9876543210",alternatePhone:"+91 9876543211",name:"Dr. Rajesh Kumar",designation:"Principal",department:"Administration",instituteId:"PU1001",instituteName:"Government College of Engineering"},ie={language:"en",theme:"light",notificationsEnabled:!0,emailNotifications:!0,smsNotifications:!0,pushNotifications:!1,dateFormat:"DD/MM/YYYY",timeFormat:"12h"},ne={email:{enabled:!0,applicationUpdates:!0,systemAlerts:!0,reminders:!0,newsletters:!1},sms:{enabled:!0,applicationUpdates:!0,systemAlerts:!0,reminders:!1,otpVerification:!0},push:{enabled:!1,applicationUpdates:!1,systemAlerts:!1,reminders:!1}},re=async()=>(await new Promise(e=>setTimeout(e,100)),{success:!0,data:te,message:"Profile retrieved successfully"}),le=async e=>{await new Promise(e=>setTimeout(e,800));return{success:!0,data:{...te,...e},message:"Profile updated successfully"}},ce=async()=>{await new Promise(e=>setTimeout(e,100));const e=localStorage.getItem("dhe-mis-preferences");return{success:!0,data:e?JSON.parse(e):ie,message:"Preferences retrieved successfully"}},de=async e=>{await new Promise(e=>setTimeout(e,800));const s=localStorage.getItem("dhe-mis-preferences"),a={...s?JSON.parse(s):ie,...e};return localStorage.setItem("dhe-mis-preferences",JSON.stringify(a)),{success:!0,data:a,message:"Preferences updated successfully"}},me=async()=>{await new Promise(e=>setTimeout(e,100));const e=localStorage.getItem("dhe-mis-notification-preferences");return{success:!0,data:e?JSON.parse(e):ne,message:"Notification preferences retrieved successfully"}},oe=async e=>{await new Promise(e=>setTimeout(e,800));const s=localStorage.getItem("dhe-mis-notification-preferences"),a=s?JSON.parse(s):ne,t={email:{...a.email,...e.email||{}},sms:{...a.sms,...e.sms||{}},push:{...a.push,...e.push||{}}};return localStorage.setItem("dhe-mis-notification-preferences",JSON.stringify(t)),{success:!0,data:t,message:"Notification preferences updated successfully"}},he=g({email:N().email("Invalid email address"),mobile:N().min(10,"Mobile number must be at least 10 digits"),alternatePhone:N().optional(),name:N().min(2,"Name must be at least 2 characters").optional(),designation:N().optional(),department:N().optional()}),xe=()=>{const{user:s,updateUser:a}=se(),{success:t,error:i}=V(),[n,r]=c.useState(!1),{register:l,handleSubmit:d,formState:{errors:m,isDirty:o},reset:h}=y({resolver:b(he)});c.useEffect(()=>{(async()=>{try{const e=await re();e.success&&e.data&&h({email:e.data.email,mobile:e.data.mobile,alternatePhone:e.data.alternatePhone||"",name:e.data.name||"",designation:e.data.designation||"",department:e.data.department||""})}catch(e){i("Failed to load profile")}})()},[h,i]);return e.jsxs(w,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{children:"User Profile"}),e.jsx(S,{children:"Update your personal information and contact details"})]}),s&&e.jsx(C,{variant:"secondary",className:"text-sm",children:s.role.replace("_"," ").toUpperCase()})]})}),e.jsx(P,{children:e.jsxs("form",{onSubmit:d(async e=>{try{r(!0);const n={email:e.email,mobile:e.mobile,alternatePhone:e.alternatePhone||void 0,name:e.name||void 0,designation:e.designation||void 0,department:e.department||void 0},l=await le(n);l.success&&l.data?(s&&a({...s,email:l.data.email,mobile:l.data.mobile}),t("Profile updated successfully"),h(e)):i(l.message||"Failed to update profile")}catch(n){i("Failed to update profile")}finally{r(!1)}}),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"username",children:"Username"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(M,{id:"username",value:(null==s?void 0:s.username)||"",disabled:!0,className:"bg-muted"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Username cannot be changed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"name",children:"Full Name"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(M,{id:"name",...l("name"),placeholder:"Enter your full name"})]}),m.name&&e.jsx("p",{className:"text-sm text-destructive",children:m.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:"Email Address *"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(M,{id:"email",type:"email",...l("email"),placeholder:"your.email@example.com"})]}),m.email&&e.jsx("p",{className:"text-sm text-destructive",children:m.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"mobile",children:"Mobile Number *"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(M,{id:"mobile",...l("mobile"),placeholder:"+91 9876543210"})]}),m.mobile&&e.jsx("p",{className:"text-sm text-destructive",children:m.mobile.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"alternatePhone",children:"Alternate Phone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(M,{id:"alternatePhone",...l("alternatePhone"),placeholder:"+91 9876543211"})]}),m.alternatePhone&&e.jsx("p",{className:"text-sm text-destructive",children:m.alternatePhone.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"designation",children:"Designation"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(M,{id:"designation",...l("designation"),placeholder:"e.g., Principal, Professor, etc."})]}),m.designation&&e.jsx("p",{className:"text-sm text-destructive",children:m.designation.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"department",children:"Department"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(M,{id:"department",...l("department"),placeholder:"e.g., Computer Science, Administration, etc."})]}),m.department&&e.jsx("p",{className:"text-sm text-destructive",children:m.department.message})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>h(),disabled:!o||n,children:"Reset"}),e.jsx(I,{type:"submit",disabled:!o||n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})]})})]})},pe=g({language:v(["en","mr"]),theme:v(["light","dark","system"]),dateFormat:v(["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]),timeFormat:v(["12h","24h"])}),ue=()=>{const{setLanguage:s}=ae(),{success:a,error:t}=V(),[i,n]=c.useState(!1),{setValue:r,watch:l,handleSubmit:d,formState:{isDirty:m},reset:o}=y({resolver:b(pe),defaultValues:{language:"en",theme:"light",dateFormat:"DD/MM/YYYY",timeFormat:"12h"}}),h=l();c.useEffect(()=>{(async()=>{try{const e=await ce();if(e.success&&e.data){const s=e.data;o({language:s.language,theme:s.theme,dateFormat:s.dateFormat,timeFormat:s.timeFormat})}}catch(e){t("Failed to load preferences")}})()},[o,t]);return e.jsxs(w,{children:[e.jsxs(F,{children:[e.jsx(k,{children:"Preferences"}),e.jsx(S,{children:"Configure your language, theme, and display preferences"})]}),e.jsx(P,{children:e.jsxs("form",{onSubmit:d(async e=>{try{n(!0);const i={language:e.language,theme:e.theme,dateFormat:e.dateFormat,timeFormat:e.timeFormat},r=await de(i);r.success&&r.data?(s(e.language),a("Preferences updated successfully"),o(e)):t(r.message||"Failed to update preferences")}catch(i){t("Failed to update preferences")}finally{n(!1)}}),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"language",children:"Language"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(J,{value:h.language,onValueChange:e=>r("language",e,{shouldDirty:!0}),children:[e.jsx(q,{id:"language",className:"flex-1",children:e.jsx(L,{placeholder:"Select language"})}),e.jsxs(z,{children:[e.jsx(B,{value:"en",children:"English"}),e.jsx(B,{value:"mr",children:"मराठी (Marathi)"})]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose your preferred language for the interface"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"theme",children:"Theme"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(J,{value:h.theme,onValueChange:e=>r("theme",e,{shouldDirty:!0}),children:[e.jsx(q,{id:"theme",className:"flex-1",children:e.jsx(L,{placeholder:"Select theme"})}),e.jsxs(z,{children:[e.jsx(B,{value:"light",children:"Light"}),e.jsx(B,{value:"dark",children:"Dark"}),e.jsx(B,{value:"system",children:"System"})]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose your preferred color theme"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"dateFormat",children:"Date Format"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(J,{value:h.dateFormat,onValueChange:e=>r("dateFormat",e,{shouldDirty:!0}),children:[e.jsx(q,{id:"dateFormat",className:"flex-1",children:e.jsx(L,{placeholder:"Select date format"})}),e.jsxs(z,{children:[e.jsx(B,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (31/12/2024)"}),e.jsx(B,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (12/31/2024)"}),e.jsx(B,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2024-12-31)"})]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose how dates are displayed throughout the application"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"timeFormat",children:"Time Format"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(J,{value:h.timeFormat,onValueChange:e=>r("timeFormat",e,{shouldDirty:!0}),children:[e.jsx(q,{id:"timeFormat",className:"flex-1",children:e.jsx(L,{placeholder:"Select time format"})}),e.jsxs(z,{children:[e.jsx(B,{value:"12h",children:"12-hour (2:30 PM)"}),e.jsx(B,{value:"24h",children:"24-hour (14:30)"})]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose how times are displayed throughout the application"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>o(),disabled:!m||i,children:"Reset"}),e.jsx(I,{type:"submit",disabled:!m||i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})})]})]})})]})};var je="Switch",[fe,ge]=s(je),[Ne,ye]=fe(je),ve=c.forwardRef((s,r)=>{const{__scopeSwitch:l,name:d,checked:m,defaultChecked:o,required:h,disabled:x,value:p="on",onCheckedChange:u,form:j,...f}=s,[g,N]=c.useState(null),y=a(r,e=>N(e)),v=c.useRef(!1),b=!g||(j||!!g.closest("form")),[w,F]=t({prop:m,defaultProp:o??!1,onChange:u,caller:je});return e.jsxs(Ne,{scope:l,checked:w,disabled:x,children:[e.jsx(i.button,{type:"button",role:"switch","aria-checked":w,"aria-required":h,"data-state":ke(w),"data-disabled":x?"":void 0,disabled:x,value:p,...f,ref:y,onClick:n(s.onClick,e=>{F(e=>!e),b&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),b&&e.jsx(Fe,{control:g,bubbles:!v.current,name:d,value:p,checked:w,required:h,disabled:x,form:j,style:{transform:"translateX(-100%)"}})]})});ve.displayName=je;var be="SwitchThumb",we=c.forwardRef((s,a)=>{const{__scopeSwitch:t,...n}=s,r=ye(be,t);return e.jsx(i.span,{"data-state":ke(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:a})});we.displayName=be;var Fe=c.forwardRef(({__scopeSwitch:s,control:t,checked:i,bubbles:n=!0,...d},m)=>{const o=c.useRef(null),h=a(o,m),x=r(i),p=l(t);return c.useEffect(()=>{const e=o.current;if(!e)return;const s=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(s,"checked").set;if(x!==i&&a){const s=new Event("click",{bubbles:n});a.call(e,i),e.dispatchEvent(s)}},[x,i,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:h,style:{...d.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function ke(e){return e?"checked":"unchecked"}Fe.displayName="SwitchBubbleInput";var Se=ve,Ce=we;const Pe=c.forwardRef(({className:s,...a},t)=>e.jsx(Se,{className:Q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...a,ref:t,children:e.jsx(Ce,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pe.displayName=Se.displayName;const Ye=()=>{const{success:s,error:a}=V(),[t,i]=c.useState(!1),[n,r]=c.useState(!1),[l,d]=c.useState({email:{enabled:!0,applicationUpdates:!0,systemAlerts:!0,reminders:!0,newsletters:!1},sms:{enabled:!0,applicationUpdates:!0,systemAlerts:!0,reminders:!1,otpVerification:!0},push:{enabled:!1,applicationUpdates:!1,systemAlerts:!1,reminders:!1}}),[m,o]=c.useState(l);c.useEffect(()=>{(async()=>{try{const e=await me();e.success&&e.data&&(d(e.data),o(e.data))}catch(e){a("Failed to load notification preferences")}})()},[a]);const h=(e,s,a)=>{d(t=>({...t,[e]:{...t[e],[s]:a}})),r(!0)};return e.jsxs(w,{children:[e.jsxs(F,{children:[e.jsx(k,{children:"Notification Settings"}),e.jsx(S,{children:"Manage your email, SMS, and push notification preferences"})]}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Email Notifications"})]}),e.jsxs("div",{className:"space-y-4 pl-7",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"email-enabled",className:"text-base",children:"Enable Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),e.jsx(Pe,{id:"email-enabled",checked:l.email.enabled,onCheckedChange:e=>h("email","enabled",e)})]}),l.email.enabled&&e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"email-app-updates",children:"Application Updates"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status changes and approvals"})]}),e.jsx(Pe,{id:"email-app-updates",checked:l.email.applicationUpdates,onCheckedChange:e=>h("email","applicationUpdates",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"email-system-alerts",children:"System Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system notifications"})]}),e.jsx(Pe,{id:"email-system-alerts",checked:l.email.systemAlerts,onCheckedChange:e=>h("email","systemAlerts",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"email-reminders",children:"Reminders"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Deadline and task reminders"})]}),e.jsx(Pe,{id:"email-reminders",checked:l.email.reminders,onCheckedChange:e=>h("email","reminders",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"email-newsletters",children:"Newsletters"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates and announcements"})]}),e.jsx(Pe,{id:"email-newsletters",checked:l.email.newsletters,onCheckedChange:e=>h("email","newsletters",e)})]})]})]})]}),e.jsx(W,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"SMS Notifications"})]}),e.jsxs("div",{className:"space-y-4 pl-7",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"sms-enabled",className:"text-base",children:"Enable SMS Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via SMS"})]}),e.jsx(Pe,{id:"sms-enabled",checked:l.sms.enabled,onCheckedChange:e=>h("sms","enabled",e)})]}),l.sms.enabled&&e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"sms-app-updates",children:"Application Updates"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status changes and approvals"})]}),e.jsx(Pe,{id:"sms-app-updates",checked:l.sms.applicationUpdates,onCheckedChange:e=>h("sms","applicationUpdates",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"sms-system-alerts",children:"System Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system notifications"})]}),e.jsx(Pe,{id:"sms-system-alerts",checked:l.sms.systemAlerts,onCheckedChange:e=>h("sms","systemAlerts",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"sms-reminders",children:"Reminders"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Deadline and task reminders"})]}),e.jsx(Pe,{id:"sms-reminders",checked:l.sms.reminders,onCheckedChange:e=>h("sms","reminders",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5 flex items-center gap-2",children:[e.jsx(Y,{htmlFor:"sms-otp",children:"OTP Verification"}),e.jsx($,{className:"h-4 w-4 text-green-600"})]}),e.jsx(Pe,{id:"sms-otp",checked:l.sms.otpVerification,disabled:!0})]}),e.jsx("p",{className:"text-xs text-muted-foreground pl-0",children:"OTP verification SMS cannot be disabled for security reasons"})]})]})]}),e.jsx(W,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Push Notifications"})]}),e.jsxs("div",{className:"space-y-4 pl-7",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"push-enabled",className:"text-base",children:"Enable Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser push notifications"})]}),e.jsx(Pe,{id:"push-enabled",checked:l.push.enabled,onCheckedChange:e=>h("push","enabled",e)})]}),l.push.enabled&&e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"push-app-updates",children:"Application Updates"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status changes and approvals"})]}),e.jsx(Pe,{id:"push-app-updates",checked:l.push.applicationUpdates,onCheckedChange:e=>h("push","applicationUpdates",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"push-system-alerts",children:"System Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system notifications"})]}),e.jsx(Pe,{id:"push-system-alerts",checked:l.push.systemAlerts,onCheckedChange:e=>h("push","systemAlerts",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Y,{htmlFor:"push-reminders",children:"Reminders"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Deadline and task reminders"})]}),e.jsx(Pe,{id:"push-reminders",checked:l.push.reminders,onCheckedChange:e=>h("push","reminders",e)})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>{d(m),r(!1)},disabled:!n||t,children:"Reset"}),e.jsx(I,{onClick:async()=>{try{i(!0);const e=await oe({email:l.email,sms:l.sms,push:l.push});e.success&&e.data?(o(e.data),r(!1),s("Notification preferences updated successfully")):a(e.message||"Failed to update notification preferences")}catch(e){a("Failed to update notification preferences")}finally{i(!1)}},disabled:!n||t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Save Settings"]})})]})]})]})},De=()=>{const s=d(),a=m(),t=c.useMemo(()=>{const e=a.pathname;return e.includes("/preferences")?"preferences":e.includes("/notifications")?"notifications":"profile"},[a.pathname]);return e.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),e.jsxs(p,{value:t,onValueChange:e=>{s(`/settings/${e}`,{replace:!0})},className:"space-y-6",children:[e.jsxs(u,{className:"grid w-full grid-cols-3",children:[e.jsxs(j,{value:"profile",className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),e.jsxs(j,{value:"preferences",className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Preferences"})]}),e.jsxs(j,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Notifications"})]})]}),e.jsx(f,{value:"profile",className:"space-y-4",children:e.jsx(xe,{})}),e.jsx(f,{value:"preferences",className:"space-y-4",children:e.jsx(ue,{})}),e.jsx(f,{value:"notifications",className:"space-y-4",children:e.jsx(Ye,{})})]})]})},Me=()=>e.jsxs(o,{children:[e.jsx(h,{index:!0,element:e.jsx(De,{})}),e.jsx(h,{path:"profile",element:e.jsx(De,{})}),e.jsx(h,{path:"preferences",element:e.jsx(De,{})}),e.jsx(h,{path:"notifications",element:e.jsx(De,{})}),e.jsx(h,{path:"*",element:e.jsx(x,{to:"/settings",replace:!0})})]});export{Me as SettingsModule,Me as default};
